import './polyfills.server.mjs';
import{a as re}from"./chunk-ECUT352G.mjs";import{a as z,b as ne,c as ae}from"./chunk-65YUMYAI.mjs";import{a as Z,b as ee,c as te,d as ie}from"./chunk-CC4XJOG2.mjs";import"./chunk-QG6R5UVU.mjs";import{a as J}from"./chunk-YV4Z6ZXL.mjs";import{a as _}from"./chunk-WBUT2LNE.mjs";import{D as X,E as Y,G as U,J as K,c as Q,f as N,g as W,k as L,m as f}from"./chunk-7IPQHCPP.mjs";import{$a as d,Ca as h,Ea as F,Ga as s,Gb as q,Ha as E,La as O,Pa as k,T as b,Ua as w,Wa as c,X as D,Ya as G,Za as i,_a as n,a as R,ab as V,bb as S,cb as m,db as l,eb as I,fa as y,fb as x,ga as C,ha as u,hb as M,ia as g,ma as B,ra as A,va as P}from"./chunk-NT3FEOQE.mjs";import{h as H}from"./chunk-5XUXGTUW.mjs";function ce(a,t){a&1&&(i(0,"div",3),d(1,"div",4),i(2,"p",5),l(3,"Cargando tarjeta digital..."),n()())}function de(a,t){if(a&1&&(i(0,"div",6)(1,"div",7),u(),i(2,"svg",8),d(3,"path",9),n()(),g(),i(4,"p",10),l(5),n()()),a&2){let e=m();s(5),I(e.error)}}function me(a,t){if(a&1&&(i(0,"a",44)(1,"div",45),u(),i(2,"svg",46),d(3,"path",47),n()(),g(),i(4,"div",48)(5,"p",49),l(6," WhatsApp "),n(),i(7,"p",50),l(8,"Mensaje directo"),n()()()),a&2){let e=m(2);c("href","https://wa.me/"+e.getCleanPhone(e.contact_info==null?null:e.contact_info.whatsapp),h)}}function pe(a,t){if(a&1&&(i(0,"a",51)(1,"div",45),u(),i(2,"svg",52),d(3,"path",53),n()(),g(),i(4,"div",48)(5,"p",54),l(6," Portafolio "),n(),i(7,"p",50),l(8,"Sitio web personal"),n()()()),a&2){let e=m(2);c("href",e.contact_info==null?null:e.contact_info.website,h)}}function ue(a,t){if(a&1&&(i(0,"a",55)(1,"div",45),u(),i(2,"svg",56),d(3,"path",57),n()(),g(),i(4,"div",48)(5,"p",58),l(6," Facebook "),n(),i(7,"p",50),l(8,"Perfil social"),n()()()),a&2){let e=m(2);c("href",e.contact_info==null?null:e.contact_info.facebook,h)}}function ge(a,t){if(a&1&&(i(0,"a",59)(1,"div",45),u(),i(2,"svg",52),d(3,"path",60)(4,"path",61),n()(),g(),i(5,"div",48)(6,"p",54),l(7),n(),i(8,"p",50),l(9),n()()()),a&2){let e=m(2);c("href","mailto:"+(e.contact_info==null?null:e.contact_info.email),h),s(7),x(" ",e.contact_info==null?null:e.contact_info.email," "),s(2),x(" ",e.getEmailDomain(e.contact_info==null?null:e.contact_info.email)," ")}}function fe(a,t){if(a&1&&(i(0,"a",59)(1,"div",45),u(),i(2,"svg",52),d(3,"path",62),n()(),g(),i(4,"div",48)(5,"p",54),l(6),n(),i(7,"p",50),l(8,"Llamar o WhatsApp"),n()()()),a&2){let e=m(2);c("href","tel:"+(e.contact_info==null?null:e.contact_info.phone),h),s(6),x(" ",e.formatPhone(e.contact_info==null?null:e.contact_info.phone)," ")}}function he(a,t){if(a&1&&(i(0,"a",51)(1,"div",45),u(),i(2,"svg",63),d(3,"path",64),n()(),g(),i(4,"div",48)(5,"p",58),l(6," Perfil Profesional "),n(),i(7,"p",50),l(8,"LinkedIn Network"),n()()()),a&2){let e=m(2);c("href",e.contact_info==null?null:e.contact_info.linkedin,h)}}function xe(a,t){if(a&1&&(i(0,"a",65)(1,"div",45),u(),i(2,"svg",66),d(3,"path",67),n()(),g(),i(4,"div",48)(5,"p",68),l(6," Twitter "),n(),i(7,"p",50),l(8,"S\xEDgueme en X"),n()()()),a&2){let e=m(2);c("href",e.contact_info==null?null:e.contact_info.twitter,h)}}function ve(a,t){if(a&1&&(i(0,"a",69)(1,"div",45),u(),i(2,"svg",70),d(3,"path",71),n()(),g(),i(4,"div",48)(5,"p",72),l(6," Instagram "),n(),i(7,"p",50),l(8,"Fotos y momentos"),n()()()),a&2){let e=m(2);c("href",e.contact_info==null?null:e.contact_info.instagram,h)}}function _e(a,t){if(a&1&&(i(0,"a",55)(1,"div",45),u(),i(2,"svg",56),d(3,"path",73),n()(),g(),i(4,"div",48)(5,"p",74),l(6," GitHub "),n(),i(7,"p",50),l(8,"C\xF3digo y proyectos"),n()()()),a&2){let e=m(2);c("href",e.contact_info==null?null:e.contact_info.github,h)}}function be(a,t){if(a&1&&(i(0,"a",75)(1,"div",45),u(),i(2,"svg",76),d(3,"path",77),n()(),g(),i(4,"div",48)(5,"p",78),l(6," YouTube "),n(),i(7,"p",50),l(8,"Canal de videos"),n()()()),a&2){let e=m(2);c("href",e.contact_info==null?null:e.contact_info.youtube,h)}}function ye(a,t){if(a&1&&(i(0,"a",79)(1,"div",45),u(),i(2,"svg",80),d(3,"path",81),n()(),g(),i(4,"div",48)(5,"p",82),l(6,"TikTok"),n(),i(7,"p",50),l(8,"Videos creativos"),n()()()),a&2){let e=m(2);c("href",e.contact_info==null?null:e.contact_info.tiktok,h)}}function Ce(a,t){if(a&1){let e=V();i(0,"div",83)(1,"button",84),S("click",function(){y(e);let o=m(2);return C(o.shareToWhatsApp())}),u(),i(2,"svg",85),d(3,"path",47),n(),g(),i(4,"span",36),l(5,"Compartir en WhatsApp"),n()(),i(6,"button",86),S("click",function(){y(e);let o=m(2);return C(o.shareToFacebook())}),u(),i(7,"svg",85),d(8,"path",57),n(),g(),i(9,"span",36),l(10,"Compartir en Facebook"),n()(),i(11,"button",87),S("click",function(){y(e);let o=m(2);return C(o.shareToTwitter())}),u(),i(12,"svg",85),d(13,"path",67),n(),g(),i(14,"span",36),l(15,"Compartir en Twitter"),n()(),i(16,"button",88),S("click",function(){y(e);let o=m(2);return C(o.shareToLinkedIn())}),u(),i(17,"svg",85),d(18,"path",64),n(),g(),i(19,"span",36),l(20,"Compartir en LinkedIn"),n()(),i(21,"button",89),S("click",function(){y(e);let o=m(2);return C(o.copyToClipboard())}),u(),i(22,"svg",90),d(23,"path",91),n(),g(),i(24,"span",36),l(25),n()()()}if(a&2){let e=m(2);s(25),I(e.copyButtonText)}}function we(a,t){if(a&1&&(i(0,"div"),d(1,"app-dynamic-qr",92),n()),a&2){let e=m(2);s(),c("userCard",e.displayData())}}function Se(a,t){if(a&1&&(i(0,"span",108),u(),i(1,"svg",109),d(2,"circle",110),n(),l(3),n()),a&2){let e=t.$implicit;s(3),x(" ",e," ")}}function Te(a,t){if(a&1&&(i(0,"div",93)(1,"div",94)(2,"div",95)(3,"div",96)(4,"h3",97),l(5,"Acerca de m\xED"),n(),i(6,"p",98),l(7),n(),i(8,"div")(9,"h4",97),l(10," Especialidades "),n(),i(11,"div",99),w(12,Se,4,1,"span",100),n()()(),i(13,"div",101)(14,"div",102)(15,"div",103),u(),i(16,"svg",104),d(17,"path",105),n(),g(),i(18,"div",102)(19,"div",106),l(20),n(),i(21,"div",107),l(22,"a\xF1os de experiencia"),n()()()()()()()()),a&2){let e=m(2);s(7),x(" ",e.about_info==null?null:e.about_info.description," "),s(5),c("ngForOf",e.about_info==null?null:e.about_info.skills),s(8),x(" ",e.about_info==null?null:e.about_info.experience,"+ ")}}function Ee(a,t){if(a&1){let e=V();i(0,"div",11)(1,"div",12)(2,"div",13)(3,"img",14),S("error",function(o){y(e);let p=m();return C(p.onImageError(o))})("load",function(o){y(e);let p=m();return C(p.onImageLoad(o))}),n(),i(4,"div",15),l(5),n()(),i(6,"h1",16),l(7),n(),i(8,"h2",17),l(9),n(),i(10,"div",18),u(),i(11,"svg",19),d(12,"path",20),n(),g(),i(13,"span"),l(14),n()()(),i(15,"div",21)(16,"h3",22),l(17," Informaci\xF3n de Contacto "),n(),i(18,"div",23),w(19,me,9,1,"a",24)(20,pe,9,1,"a",25)(21,ue,9,1,"a",26)(22,ge,10,3,"a",27)(23,fe,9,2,"a",27)(24,he,9,1,"a",25)(25,xe,9,1,"a",28)(26,ve,9,1,"a",29)(27,_e,9,1,"a",26)(28,be,9,1,"a",30)(29,ye,9,1,"a",31),n(),i(30,"div",32)(31,"button",33),S("click",function(){y(e);let o=m();return C(o.toggleShareMenu())}),u(),i(32,"svg",34),d(33,"path",35),n(),g(),i(34,"span",36),l(35,"Compartir"),n()(),w(36,Ce,26,1,"div",37),n()(),i(37,"div",38)(38,"h3",39),l(39," Conecta Conmigo "),n(),w(40,we,2,1,"div",40),n(),w(41,Te,23,3,"div",41),i(42,"div",42),d(43,"app-cambiar-tarjeta",43),n()()}if(a&2){let e=m();s(3),c("src",e.profileImageUrl,h)("alt",e.personal_info==null?null:e.personal_info.name),s(2),x(" ",e.getInitials(e.personal_info==null?null:e.personal_info.name)," "),s(2),x(" ",e.personal_info==null?null:e.personal_info.name," "),s(2),x(" ",e.personal_info==null?null:e.personal_info.title," "),s(5),I(e.personal_info==null?null:e.personal_info.location),s(5),c("ngIf",e.contact_info==null?null:e.contact_info.whatsapp),s(),c("ngIf",e.contact_info==null?null:e.contact_info.website),s(),c("ngIf",e.contact_info==null?null:e.contact_info.facebook),s(),c("ngIf",e.contact_info==null?null:e.contact_info.email),s(),c("ngIf",e.contact_info==null?null:e.contact_info.phone),s(),c("ngIf",e.contact_info==null?null:e.contact_info.linkedin),s(),c("ngIf",e.contact_info==null?null:e.contact_info.twitter),s(),c("ngIf",e.contact_info==null?null:e.contact_info.instagram),s(),c("ngIf",e.contact_info==null?null:e.contact_info.github),s(),c("ngIf",e.contact_info==null?null:e.contact_info.youtube),s(),c("ngIf",e.contact_info==null?null:e.contact_info.tiktok),s(7),c("ngIf",e.showShareMenu),s(4),c("ngIf",e.displayData()),s(),c("ngIf",e.about_info),s(2),c("currentSlug",e.currentSlug)}}var j=class a{constructor(t,e,r,o,p,v){this.digitalCardService=t;this.elementRef=e;this.renderer=r;this.performanceService=o;this.activatedRoute=p;this.platformId=v}cardData=null;hideShareButtons=!1;shareUrl=null;digitalCard=null;isLoading=!0;error=null;currentEdge=null;mouseX=0;mouseY=0;isHovering=!1;rafId=null;displayData=q(()=>this.cardData||this.digitalCard);showShareMenu=!1;copyButtonText="Copiar enlace";currentSlug="";get cardUrl(){return this.shareUrl?this.shareUrl:f(this.platformId)?window.location.href:""}subscription=new R;ngOnInit(){if(this.activatedRoute.params.subscribe(t=>{this.currentSlug=t.slug||""}),this.cardData?(this.isLoading=!1,this.error=null):this.loadDigitalCard(),f(this.platformId)){if(this.performanceService.shouldUseReducedAnimations())return;setTimeout(()=>{this.initializeQuantumEffects()},200)}}ngOnDestroy(){this.subscription.unsubscribe(),this.rafId&&cancelAnimationFrame(this.rafId)}loadDigitalCard(){this.isLoading=!0,this.error=null;let t=this.digitalCardService.getDigitalCardBySlug("default-user").subscribe({next:e=>{e&&this.digitalCardService.validateDigitalCard(e)?(this.digitalCard=e,this.isLoading=!1):e===null?(this.error="No se encontr\xF3 tarjeta digital. Crea una nueva tarjeta para empezar.",this.isLoading=!1):(this.error="Datos de tarjeta digital inv\xE1lidos",this.isLoading=!1)},error:e=>{this.error="Error al cargar los datos de la tarjeta digital",this.isLoading=!1,console.error("Error loading digital card:",e)}});this.subscription.add(t)}get personal_info(){return this.displayData()?.personal_info}get contact_info(){return this.displayData()?.contact_info}get about_info(){return this.displayData()?.about_info}get profileImageUrl(){let t=this.displayData()?.personal_info?.photo;return t?t.startsWith("http://")||t.startsWith("https://")?t:`${_.urlDominioApi}/${t}`:null}initializeQuantumEffects(){this.createMagneticParticles(),this.initializeCursorTracking()}createMagneticParticles(){f(this.platformId)&&setTimeout(()=>{let t=this.elementRef.nativeElement.querySelector(".magnetic-field");if(t)for(let e=0;e<4;e++){let r=this.renderer.createElement("div");this.renderer.addClass(r,"magnetic-particle");let o=["#00ffff","#ff0080","#8000ff","#00ff80"],p=o[e%o.length],v=Math.random()*3+2;this.renderer.setStyle(r,"width",`${v}px`),this.renderer.setStyle(r,"height",`${v}px`),this.renderer.setStyle(r,"background",p),this.renderer.setStyle(r,"box-shadow",`0 0 ${v*3}px ${p}`),this.renderer.setStyle(r,"top",`${Math.random()*80+10}%`),this.renderer.setStyle(r,"left",`${Math.random()*80+10}%`),this.renderer.setStyle(r,"animation",`magneticField ${8+Math.random()*4}s ease-in-out infinite ${Math.random()*2}s`),this.renderer.setStyle(r,"will-change","transform"),this.renderer.appendChild(t,r)}},300)}initializeCursorTracking(){f(this.platformId)&&(this.renderer.listen(this.elementRef.nativeElement,"mousemove",t=>{this.updateMousePosition(t)}),this.renderer.listen(this.elementRef.nativeElement,"mouseenter",()=>{this.isHovering=!0,this.startQuantumAnimation()}),this.renderer.listen(this.elementRef.nativeElement,"mouseleave",()=>{this.isHovering=!1}))}updateMousePosition(t){let e=this.elementRef.nativeElement.getBoundingClientRect();this.mouseX=(t.clientX-e.left)/e.width*100,this.mouseY=(t.clientY-e.top)/e.height*100,this.updateHolographicGlow()}updateHolographicGlow(){let t=this.elementRef.nativeElement.querySelector(".card-container");t&&(t.style.setProperty("--mouse-x",`${this.mouseX}%`),t.style.setProperty("--mouse-y",`${this.mouseY}%`))}startQuantumAnimation(){if(!f(this.platformId)||this.rafId)return;let t=()=>{this.isHovering?(this.updateQuantumField(),this.rafId=requestAnimationFrame(t)):this.rafId=null};this.rafId=requestAnimationFrame(t)}updateQuantumField(){this.elementRef.nativeElement.querySelectorAll(".magnetic-particle").forEach((e,r)=>{let o=this.calculateDistance(e,this.mouseX,this.mouseY),p=Math.max(0,1-o/100);if(p>.3){let v=1+p,T=1+p*.5;e.style.transform=`scale(${v})`,e.style.filter=`brightness(${T}) blur(${.5-p*.3}px)`}})}calculateDistance(t,e,r){let o=t.getBoundingClientRect(),p=o.left+o.width/2,v=o.top+o.height/2,T=p-e,$=v-r;return Math.sqrt(T*T+$*$)}onEdgeHover(t){if(!f(this.platformId))return;this.currentEdge=t;let e=this.elementRef.nativeElement.querySelector(".card-container");e&&(e.style.transformOrigin=this.getQuantumTransformOrigin(t),this.applyQuantumEdgeEffect(e,t))}onEdgeLeave(){if(!f(this.platformId))return;this.currentEdge=null;let t=this.elementRef.nativeElement.querySelector(".card-container");t&&(t.style.transformOrigin="center",t.style.filter="")}getQuantumTransformOrigin(t){switch(t){case"top":return"center top";case"bottom":return"center bottom";case"left":return"left center";case"right":return"right center";default:return"center"}}applyQuantumEdgeEffect(t,e){let r={top:"hue-rotate(90deg) brightness(1.2) saturate(1.3)",bottom:"hue-rotate(-90deg) brightness(1.1) saturate(1.2)",left:"hue-rotate(180deg) brightness(1.3) saturate(1.4)",right:"hue-rotate(270deg) brightness(1.1) saturate(1.1)"};t.style.filter=r[e]||""}onKeyDown(t){f(this.platformId)&&t.key===" "&&this.triggerQuantumBurst()}triggerQuantumBurst(){if(!f(this.platformId))return;let t=this.elementRef.nativeElement.querySelector(".card-container");t&&(t.style.animation="none",setTimeout(()=>{t.style.animation="holographicEntry 0.8s ease-out, liquidFloat 2s ease-in-out infinite 0.8s"},50))}getInitials(t){return t?t.split(" ").map(e=>e.charAt(0).toUpperCase()).slice(0,2).join(""):"??"}formatPhone(t){return t?t.replace(/(\+\d{2})(\d{3})(\d{3})(\d{3})/,"$1 $2 $3 $4"):""}getEmailDomain(t){return t&&t.split("@")[1]||""}getCleanUrl(t){return t?t.replace(/^https?:\/\//,"").replace(/\/$/,""):""}getCleanPhone(t){return t?t.replace(/[^0-9]/g,""):""}onImageError(t){t.target.style.display="none"}onImageLoad(t){t.target.style.opacity="1"}toggleShareMenu(){this.showShareMenu=!this.showShareMenu}shareToWhatsApp(){let t=encodeURIComponent(`\xA1Mira mi tarjeta digital! ${this.digitalCard?.personal_info?.name||""} `),e=encodeURIComponent(this.cardUrl),r=`https://wa.me/?text=${t}%20${e}`;f(this.platformId)&&window.open(r,"_blank","width=600,height=400"),this.showShareMenu=!1}shareToFacebook(){let e=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(this.cardUrl)}`;f(this.platformId)&&window.open(e,"_blank","width=600,height=400"),this.showShareMenu=!1}shareToTwitter(){let t=encodeURIComponent(`\xA1Mira mi tarjeta digital! ${this.digitalCard?.personal_info?.name||""} - Especializado en desarrollo web moderno`),e=encodeURIComponent(this.cardUrl),r=`https://twitter.com/intent/tweet?text=${t}&url=${e}`;f(this.platformId)&&window.open(r,"_blank","width=600,height=400"),this.showShareMenu=!1}shareToLinkedIn(){let t=encodeURIComponent(this.cardUrl),e=encodeURIComponent(`Tarjeta Digital - ${this.digitalCard?.personal_info?.name||""}`),r=encodeURIComponent("Especializado en desarrollo web moderno. Conecta conmigo a trav\xE9s de mi tarjeta digital interactiva."),o=`https://www.linkedin.com/sharing/share-offsite/?url=${t}&title=${e}&summary=${r}`;f(this.platformId)&&window.open(o,"_blank","width=600,height=400"),this.showShareMenu=!1}copyToClipboard(){return H(this,null,function*(){if(f(this.platformId)){try{if(navigator.clipboard&&window.isSecureContext)yield navigator.clipboard.writeText(this.cardUrl);else{let t=document.createElement("textarea");t.value=this.cardUrl,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),t.remove()}this.copyButtonText="\xA1Copiado!",setTimeout(()=>{this.copyButtonText="Copiar enlace"},2e3)}catch(t){console.error("Error copying to clipboard:",t),this.copyButtonText="Error al copiar",setTimeout(()=>{this.copyButtonText="Copiar enlace"},2e3)}this.showShareMenu=!1}})}static \u0275fac=function(e){return new(e||a)(E(te),E(A),E(O),E(ie),E(U),E(P))};static \u0275cmp=D({type:a,selectors:[["app-digital-card-tres"]],hostBindings:function(e,r){e&1&&S("keydown",function(p){return r.onKeyDown(p)},!1,F)},inputs:{cardData:"cardData",hideShareButtons:"hideShareButtons",shareUrl:"shareUrl"},standalone:!0,features:[M],decls:3,vars:3,consts:[["class","max-w-sm mx-auto bg-white rounded-2xl shadow-lg overflow-hidden p-8 text-center",4,"ngIf"],["class","max-w-sm mx-auto bg-red-50 border border-red-200 rounded-2xl p-6 text-center",4,"ngIf"],["class","max-w-sm md:max-w-2xl lg:max-w-4xl xl:max-w-5xl mx-auto rounded-2xl overflow-hidden bg-white shadow-lg md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-0",4,"ngIf"],[1,"max-w-sm","mx-auto","bg-white","rounded-2xl","shadow-lg","overflow-hidden","p-8","text-center"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-600","mx-auto","mb-4","loading-spinner"],[1,"text-gray-600"],[1,"max-w-sm","mx-auto","bg-red-50","border","border-red-200","rounded-2xl","p-6","text-center"],[1,"text-red-600","mb-2"],["fill","currentColor","viewBox","0 0 20 20",1,"w-8","h-8","mx-auto"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule","evenodd"],[1,"text-red-700","font-medium"],[1,"max-w-sm","md:max-w-2xl","lg:max-w-4xl","xl:max-w-5xl","mx-auto","rounded-2xl","overflow-hidden","bg-white","shadow-lg","md:grid","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-0"],[1,"p-6","md:p-8","text-center","md:col-span-1","lg:col-span-1","xl:col-span-1","bg-gradient-to-br","from-slate-700","to-slate-800","md:rounded-l-2xl","text-white"],[1,"relative","mx-auto","w-24","h-24","mb-4"],["loading","lazy","decoding","async","fetchpriority","high",1,"w-full","h-full","rounded-full","object-cover","shadow-lg",2,"opacity","0","transition","opacity 0.3s ease",3,"error","load","src","alt"],[1,"absolute","inset-0","w-full","h-full","rounded-full","bg-slate-600","flex","items-center","justify-center","text-white","font-bold","text-2xl","shadow-lg"],[1,"text-3xl","md:text-4xl","font-bold","text-white","mb-2"],[1,"text-lg","md:text-xl","font-medium","text-slate-200","mb-2"],[1,"flex","items-center","justify-center","text-slate-200","mb-6"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","mr-2"],["fill-rule","evenodd","d","M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule","evenodd"],[1,"px-6","md:px-8","pt-6","pb-4","md:col-span-1","lg:col-span-1","xl:col-span-2","bg-gray-50"],[1,"text-sm","font-semibold","text-gray-700","mb-3","text-center"],[1,"space-y-3"],["target","_blank","rel","noopener noreferrer","class","flex items-center p-3 bg-green-50 rounded-lg hover:bg-green-100 transition-colors group",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer","class","flex items-center p-3 bg-gray-50 rounded-lg hover:bg-blue-50 hover:text-blue-600 transition-colors contact-link group",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer","class","flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-colors contact-link group",3,"href",4,"ngIf"],["class","flex items-center p-3 bg-gray-50 rounded-lg hover:bg-blue-50 hover:text-blue-600 transition-colors contact-link group",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer","class","flex items-center p-3 bg-sky-50 rounded-lg hover:bg-sky-100 hover:text-sky-700 transition-colors contact-link group",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer","class","flex items-center p-3 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg hover:from-purple-100 hover:to-pink-100 transition-colors contact-link group",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer","class","flex items-center p-3 bg-red-50 rounded-lg hover:bg-red-100 hover:text-red-700 transition-colors contact-link group",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer","class","flex items-center p-3 bg-gray-900 rounded-lg hover:bg-gray-800 transition-colors contact-link group",3,"href",4,"ngIf"],[1,"border-t","border-gray-200","pt-4","mt-4"],[1,"w-full","flex","items-center","justify-center","p-3","bg-blue-600","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-white","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"],[1,"text-white","font-medium"],["class","mt-3 p-4 bg-white rounded-lg border border-gray-200 shadow-md space-y-3",4,"ngIf"],[1,"px-6","md:px-8","pt-6","pb-4","md:col-span-2","lg:col-span-1","xl:col-span-1","bg-gray-100"],[1,"text-sm","font-semibold","text-gray-700","mb-4","text-center"],[4,"ngIf"],["class","px-6 md:px-8 pb-6 md:col-span-2 lg:col-span-3 xl:col-span-4 bg-white md:rounded-b-2xl",4,"ngIf"],[1,"absolute","top-4","right-4"],[3,"currentSlug"],["target","_blank","rel","noopener noreferrer",1,"flex","items-center","p-3","bg-green-50","rounded-lg","hover:bg-green-100","transition-colors","group",3,"href"],[1,"flex-shrink-0"],["fill","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-600"],["d","M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.570-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.890-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"],[1,"ml-3","flex-1"],[1,"text-sm","font-medium","text-green-600"],[1,"text-xs","text-gray-500"],["target","_blank","rel","noopener noreferrer",1,"flex","items-center","p-3","bg-gray-50","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-colors","contact-link","group",3,"href"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","text-gray-500","group-hover:text-blue-600"],["fill-rule","evenodd","d","M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z","clip-rule","evenodd"],[1,"text-sm","font-medium","text-gray-600"],["target","_blank","rel","noopener noreferrer",1,"flex","items-center","p-3","bg-gray-50","rounded-lg","hover:bg-gray-100","hover:text-gray-900","transition-colors","contact-link","group",3,"href"],["fill","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-700","group-hover:text-gray-900"],["d","M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"],[1,"text-sm","font-medium","text-blue-600"],[1,"flex","items-center","p-3","bg-gray-50","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-colors","contact-link","group",3,"href"],["d","M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"],["d","M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"],["d","M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"],["fill","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-500","group-hover:text-blue-600"],["d","M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"],["target","_blank","rel","noopener noreferrer",1,"flex","items-center","p-3","bg-sky-50","rounded-lg","hover:bg-sky-100","hover:text-sky-700","transition-colors","contact-link","group",3,"href"],["fill","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-sky-600","group-hover:text-sky-700"],["d","M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"],[1,"text-sm","font-medium","text-sky-600"],["target","_blank","rel","noopener noreferrer",1,"flex","items-center","p-3","bg-gradient-to-r","from-purple-50","to-pink-50","rounded-lg","hover:from-purple-100","hover:to-pink-100","transition-colors","contact-link","group",3,"href"],["fill","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-purple-600","group-hover:text-purple-700"],["d","M12.017 0C8.396 0 7.989.016 6.756.072 5.523.128 4.68.321 3.938.602c-.789.306-1.459.717-2.126 1.384S.908 3.149.602 3.938C.321 4.68.128 5.523.072 6.756.016 7.989 0 8.396 0 12.017c0 3.624.016 4.021.072 5.254.056 1.233.249 2.076.53 2.818.306.789.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.742.281 1.585.474 2.818.53C7.989 23.984 8.396 24 12.017 24c3.624 0 4.021-.016 5.254-.072 1.233-.056 2.076-.249 2.818-.53.789-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.281-.742.474-1.585.53-2.818.056-1.233.072-1.63.072-5.254 0-3.621-.016-4.028-.072-5.261-.056-1.233-.249-2.076-.53-2.818-.305-.789-.718-1.459-1.384-2.126C19.76 1.077 19.091.664 18.302.358c-.742-.281-1.585-.474-2.818-.53C14.251.016 13.844 0 12.223 0h-.206zm-.086 2.171c.357 0 .673.001.954.002 3.565 0 3.987.016 5.39.071 1.3.059 2.006.274 2.477.456.622.242 1.067.532 1.533.997.465.466.755.911.997 1.533.182.471.397 1.177.456 2.477.055 1.402.071 1.824.071 5.39 0 3.565-.016 3.987-.071 5.39-.059 1.3-.274 2.006-.456 2.477a4.147 4.147 0 01-.997 1.533 4.142 4.142 0 01-1.533.997c-.471.182-1.177.397-2.477.456-1.402.055-1.824.071-5.39.071-3.566 0-3.988-.016-5.39-.071-1.3-.059-2.006-.274-2.477-.456a4.147 4.147 0 01-1.533-.997 4.143 4.143 0 01-.997-1.533c-.182-.471-.397-1.177-.456-2.477-.055-1.402-.071-1.824-.071-5.39 0-3.565.016-3.987.071-5.39.059-1.3.274-2.006.456-2.477.242-.622.532-1.067.997-1.533a4.142 4.142 0 011.533-.997c.471-.182 1.177-.397 2.477-.456 1.227-.056 1.701-.069 4.435-.069l.001.002zm8.614 2.139a1.443 1.443 0 11-2.887 0 1.443 1.443 0 012.887 0zM5.838 12.017a6.179 6.179 0 1112.358 0 6.179 6.179 0 01-12.358 0zm2.188 0a3.991 3.991 0 107.982 0 3.991 3.991 0 00-7.982 0z"],[1,"text-sm","font-medium","text-purple-600"],["d","M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.296 3.438 9.792 8.205 11.385.6.111.82-.26.82-.577 0-.285-.01-1.04-.016-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 21.795 24 17.295 24 11.987 24 5.367 18.63.001 12.017.001z"],[1,"text-sm","font-medium","text-gray-700"],["target","_blank","rel","noopener noreferrer",1,"flex","items-center","p-3","bg-red-50","rounded-lg","hover:bg-red-100","hover:text-red-700","transition-colors","contact-link","group",3,"href"],["fill","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-600","group-hover:text-red-700"],["d","M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"],[1,"text-sm","font-medium","text-red-600"],["target","_blank","rel","noopener noreferrer",1,"flex","items-center","p-3","bg-gray-900","rounded-lg","hover:bg-gray-800","transition-colors","contact-link","group",3,"href"],["fill","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-white"],["d","M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"],[1,"text-sm","font-medium","text-white"],[1,"mt-3","p-4","bg-white","rounded-lg","border","border-gray-200","shadow-md","space-y-3"],[1,"w-full","flex","items-center","p-3","bg-green-600","rounded-lg","hover:bg-green-700","transition-colors","group",3,"click"],["fill","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-white","mr-3"],[1,"w-full","flex","items-center","p-3","bg-blue-600","rounded-lg","hover:bg-blue-700","transition-colors","group",3,"click"],[1,"w-full","flex","items-center","p-3","bg-sky-600","rounded-lg","hover:bg-sky-700","transition-colors","group",3,"click"],[1,"w-full","flex","items-center","p-3","bg-blue-800","rounded-lg","hover:bg-blue-900","transition-colors","group",3,"click"],[1,"w-full","flex","items-center","p-3","bg-gray-700","rounded-lg","hover:bg-gray-600","transition-colors","group",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-white","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"],[3,"userCard"],[1,"px-6","md:px-8","pb-6","md:col-span-2","lg:col-span-3","xl:col-span-4","bg-white","md:rounded-b-2xl"],[1,"border-t","border-gray-200","pt-6"],[1,"xl:grid","xl:grid-cols-3","xl:gap-8","xl:items-start"],[1,"xl:col-span-2","mb-6","xl:mb-0"],[1,"text-sm","font-semibold","text-gray-700","mb-3"],[1,"text-gray-600","text-sm","leading-relaxed","mb-4"],[1,"flex","flex-wrap","gap-2"],["class","inline-flex items-center px-3 py-1 text-sm rounded-full bg-blue-100 text-blue-700 font-medium",4,"ngFor","ngForOf"],[1,"flex","justify-center","xl:justify-end","xl:items-center","xl:h-full"],[1,"text-center"],[1,"inline-flex","items-center","px-6","py-4","rounded-full","bg-blue-100","border","border-blue-200","mb-2"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","text-blue-600","mr-3"],["fill-rule","evenodd","d","M6 6V5a3 3 0 013-3h2a3 3 0 013 3v1h2a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h2zm4-3a1 1 0 00-1 1v1h2V4a1 1 0 00-1-1z","clip-rule","evenodd"],[1,"text-3xl","font-bold","text-blue-700"],[1,"text-blue-600","text-xs"],[1,"inline-flex","items-center","px-3","py-1","text-sm","rounded-full","bg-blue-100","text-blue-700","font-medium"],["fill","currentColor","viewBox","0 0 8 8",1,"w-3","h-3","mr-1","text-current"],["cx","4","cy","4","r","2"]],template:function(e,r){e&1&&w(0,ce,4,0,"div",0)(1,de,6,1,"div",1)(2,Ee,44,21,"div",2),e&2&&(c("ngIf",r.isLoading&&!r.cardData),s(),c("ngIf",r.error&&!r.isLoading&&!r.cardData),s(),c("ngIf",r.displayData()&&(!r.isLoading||r.cardData)&&!r.error))},dependencies:[L,N,W,Z,ee]})};function ke(a,t){a&1&&(i(0,"div",1),d(1,"app-loading-spinner",5),n())}function De(a,t){if(a&1&&(i(0,"div",2)(1,"div",6)(2,"h1",7),l(3,"404"),n(),i(4,"h2",8),l(5," Tarjeta no encontrada "),n(),i(6,"p",9),l(7),n(),i(8,"a",10),l(9," Volver al inicio "),n()()()),a&2){let e=m();s(7),x(" ",e.error()," ")}}function Ie(a,t){if(a&1&&(i(0,"div",3),d(1,"app-digital-card-tres",11),n()),a&2){let e=m();s(),c("cardData",e.cardData())("hideShareButtons",!1)("shareUrl",e.absoluteCardUrl())}}var oe=class a{route=b(U);router=b(K);meta=b(X);title=b(Y);document=b(Q);publicCardService=b(ne);manifestService=b(ae);destroyRef=b(B);cardData=k(null);isLoading=k(!0);error=k(null);absoluteCardUrl=k("");ngOnInit(){this.route.params.pipe(z(this.destroyRef)).subscribe(t=>{let e=t.slug;e?this.loadCard(e):this.handleError("URL no v\xE1lida")})}loadCard(t){this.isLoading.set(!0),this.error.set(null),this.publicCardService.getDigitalCardBySlug(t).pipe(z(this.destroyRef)).subscribe({next:e=>{if(e&&this.publicCardService.validateDigitalCard(e)){this.cardData.set(e);let r=`${_.siteUrl}/tarjeta/${e.slug}`;this.absoluteCardUrl.set(r),this.configureMetaTags(e),this.addStructuredData(e),this.manifestService.updateManifestLink(e,r),this.isLoading.set(!1)}else this.handleError("Esta tarjeta no est\xE1 disponible p\xFAblicamente")},error:e=>{console.error("Error loading digital card:",e),this.handleError("Error al cargar la tarjeta digital")}})}configureMetaTags(t){let e=t.personal_info?.name||"Tarjeta Digital",r=t.personal_info?.title||"",o=t.about_info?.description||`Tarjeta digital de ${e}`,p=r?`${e} - ${r}`:e,v=`${_.siteUrl}/tarjeta/${t.slug}`,T=this.getAbsoluteImageUrl(t.personal_info?.photo);this.title.setTitle(p),this.removeExistingMetaTags(),this.meta.addTag({name:"description",content:o}),this.meta.addTag({name:"keywords",content:this.generateKeywords(t)}),this.meta.addTag({name:"author",content:e}),this.meta.addTag({name:"robots",content:"index, follow"}),this.meta.addTag({rel:"canonical",href:v}),this.meta.addTag({property:"og:title",content:p}),this.meta.addTag({property:"og:description",content:o}),this.meta.addTag({property:"og:type",content:"profile"}),this.meta.addTag({property:"og:url",content:v}),this.meta.addTag({property:"og:site_name",content:_.siteName}),this.meta.addTag({property:"og:locale",content:"es_ES"}),this.meta.addTag({property:"og:updated_time",content:new Date().toISOString()}),this.meta.addTag({property:"og:image",content:T}),this.meta.addTag({property:"og:image:width",content:"1200"}),this.meta.addTag({property:"og:image:height",content:"630"}),this.meta.addTag({property:"og:image:type",content:"image/jpeg"}),this.meta.addTag({property:"og:image:alt",content:`Foto de perfil de ${e}`}),t.personal_info?.name&&(this.meta.addTag({property:"profile:first_name",content:t.personal_info.name.split(" ")[0]}),this.meta.addTag({property:"profile:last_name",content:t.personal_info.name.split(" ").slice(1).join(" ")}),this.meta.addTag({property:"profile:username",content:t.slug})),this.meta.addTag({name:"twitter:card",content:"summary_large_image"}),this.meta.addTag({name:"twitter:title",content:p}),this.meta.addTag({name:"twitter:description",content:o}),this.meta.addTag({name:"twitter:image",content:T}),this.meta.addTag({name:"twitter:image:alt",content:`Foto de perfil de ${e}`}),t.contact_info?.twitter&&this.meta.addTag({name:"twitter:creator",content:`@${t.contact_info.twitter}`}),t.personal_info?.title&&this.meta.addTag({name:"profile:job_title",content:t.personal_info.title}),t.contact_info?.email&&this.meta.addTag({name:"contact:email",content:t.contact_info.email}),t.contact_info?.phone&&this.meta.addTag({name:"contact:phone_number",content:t.contact_info.phone})}getAbsoluteImageUrl(t){return`${_.siteUrl}${_.defaultImage}`}addImageOptimizationParams(t){return t.includes("?")||t.includes(_.siteUrl),t}generateKeywords(t){let e=["tarjeta digital","perfil profesional","contacto"];if(t.personal_info?.name&&e.push(t.personal_info.name.toLowerCase()),t.personal_info?.title&&e.push(t.personal_info.title.toLowerCase()),t.about_info?.description){let r=t.about_info.description.toLowerCase().split(" ").filter(o=>o.length>4&&!["este","esta","para","como","desde","donde","cuando"].includes(o)).slice(0,3);e.push(...r)}return e.join(", ")}addStructuredData(t){this.removeExistingStructuredData();let e={"@context":"https://schema.org","@type":"Person",name:t.personal_info?.name||"Tarjeta Digital",jobTitle:t.personal_info?.title||"",description:t.about_info?.description||`Tarjeta digital de ${t.personal_info?.name}`,url:`${_.siteUrl}/tarjeta/${t.slug}`,image:this.getAbsoluteImageUrl(t.personal_info?.photo),sameAs:this.getSocialMediaUrls(t),contactPoint:{"@type":"ContactPoint",email:t.contact_info?.email||"",telephone:t.contact_info?.phone||"",contactType:"personal"},address:t.personal_info?.location?{"@type":"Place",name:t.personal_info.location}:void 0,knowsAbout:this.extractSkillsFromCard(t),hasOccupation:t.personal_info?.title?{"@type":"Occupation",name:t.personal_info.title}:void 0};Object.keys(e).forEach(o=>{(e[o]===void 0||e[o]===""||Array.isArray(e[o])&&e[o].length===0)&&delete e[o]});let r=this.document.createElement("script");r.type="application/ld+json",r.textContent=JSON.stringify(e,null,2),r.id="structured-data-person",this.document.head.appendChild(r)}removeExistingMetaTags(){['name="description"','name="keywords"','name="author"','name="robots"','property="og:title"','property="og:description"','property="og:type"','property="og:url"','property="og:image"','property="og:image:width"','property="og:image:height"','property="og:image:type"','property="og:image:alt"','property="og:updated_time"','property="profile:first_name"','property="profile:last_name"','property="profile:username"','name="profile:job_title"','name="twitter:card"','name="twitter:title"','name="twitter:description"','name="twitter:image"','name="twitter:image:alt"','name="twitter:creator"','name="contact:email"','name="contact:phone_number"'].forEach(r=>{let o=this.document.querySelector(`meta[${r}]`);o&&o.remove()});let e=this.document.querySelector('link[rel="canonical"]');e&&e.remove()}removeExistingStructuredData(){let t=this.document.getElementById("structured-data-person");t&&t.remove()}getSocialMediaUrls(t){let e=[];if(t.contact_info?.website&&e.push(t.contact_info.website),t.contact_info?.linkedin){let r=t.contact_info.linkedin.startsWith("http")?t.contact_info.linkedin:`https://linkedin.com/in/${t.contact_info.linkedin}`;e.push(r)}if(t.contact_info?.twitter){let r=t.contact_info.twitter.startsWith("http")?t.contact_info.twitter:`https://twitter.com/${t.contact_info.twitter}`;e.push(r)}if(t.contact_info?.instagram){let r=t.contact_info.instagram.startsWith("http")?t.contact_info.instagram:`https://instagram.com/${t.contact_info.instagram}`;e.push(r)}return e}extractSkillsFromCard(t){let e=[];if(t.about_info?.skills&&Array.isArray(t.about_info.skills)&&e.push(...t.about_info.skills),t.about_info?.description){let o=this.extractSkillsFromDescription(t.about_info.description);e.push(...o)}return[...new Set(e)].slice(0,8)}extractSkillsFromDescription(t){if(!t)return[];let e=["javascript","typescript","angular","react","vue","node","python","php","java","html","css","sass","tailwind","bootstrap","desarrollo","programaci\xF3n","dise\xF1o","marketing","seo","ux","ui","gesti\xF3n","liderazgo","an\xE1lisis","consultor\xEDa","estrategia"],r=[],o=t.toLowerCase();return e.forEach(p=>{o.includes(p)&&r.push(p.charAt(0).toUpperCase()+p.slice(1))}),r.slice(0,5)}handleError(t){this.error.set(t),this.isLoading.set(!1),this.cardData.set(null),this.title.setTitle("Tarjeta no encontrada"),this.meta.updateTag({name:"description",content:"La tarjeta digital solicitada no est\xE1 disponible."})}ngOnDestroy(){this.manifestService.removeOldManifestURL()}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=D({type:a,selectors:[["app-public-card-tres"]],standalone:!0,features:[M],decls:5,vars:2,consts:[[1,"min-h-screen","bg-gradient-to-br","from-slate-900","via-purple-900","to-slate-900"],[1,"flex","justify-center","items-center","min-h-screen"],[1,"flex","flex-col","items-center","justify-center","min-h-screen","text-center","px-4"],[1,"relative","z-10","flex","justify-center","items-center","min-h-screen","py-8","px-4"],[3,"userCard"],["message","Cargando tarjeta digital..."],[1,"max-w-md"],[1,"text-6xl","font-bold","text-white","mb-4"],[1,"text-2xl","font-semibold","text-gray-300","mb-4"],[1,"text-gray-400","mb-8"],["routerLink","/",1,"bg-purple-600","hover:bg-purple-700","text-white","font-medium","py-3","px-6","rounded-lg","transition-colors","duration-200"],[3,"cardData","hideShareButtons","shareUrl"]],template:function(e,r){e&1&&(i(0,"div",0),w(1,ke,2,0,"div",1)(2,De,10,1,"div",2)(3,Ie,2,3,"div",3),n(),d(4,"app-pwa-install",4)),e&2&&(s(),G(r.isLoading()?1:r.error()?2:3),s(3),c("userCard",r.cardData()))},dependencies:[L,j,re,J],styles:["[_nghost-%COMP%]{display:block;min-height:100vh}"]})};export{oe as PublicCardTresComponent};
